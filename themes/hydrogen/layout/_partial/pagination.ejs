<% if (page.total > 1) { %>
  <nav class="pagination">
    <% if (page.prev) { %>
      <a href="<%- url_for(page.prev_link) %>" class="page-link prev">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m15 18-6-6 6-6"></path>
        </svg>
        上一页
      </a>
    <% } else { %>
      <span class="page-link prev disabled">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m15 18-6-6 6-6"></path>
        </svg>
        上一页
      </span>
    <% } %>

    <div class="page-numbers">
      <%
        const current = page.current;
        const total = page.total;
        const start = Math.max(1, current - 2);
        const end = Math.min(total, current + 2);
      %>
      
      <% if (start > 1) { %>
        <a href="<%- url_for(page.base) %>" class="page-number">1</a>
        <% if (start > 2) { %>
          <span class="page-ellipsis">...</span>
        <% } %>
      <% } %>
      
      <% for (let i = start; i <= end; i++) { %>
        <% if (i === current) { %>
          <span class="page-number current"><%= i %></span>
        <% } else { %>
          <a href="<%- url_for(page.base + (i === 1 ? '' : config.pagination_dir + '/' + i + '/')) %>" class="page-number"><%= i %></a>
        <% } %>
      <% } %>
      
      <% if (end < total) { %>
        <% if (end < total - 1) { %>
          <span class="page-ellipsis">...</span>
        <% } %>
        <a href="<%- url_for(page.base + config.pagination_dir + '/' + total + '/') %>" class="page-number"><%= total %></a>
      <% } %>
    </div>

    <% if (page.next) { %>
      <a href="<%- url_for(page.next_link) %>" class="page-link next">
        下一页
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m9 18 6-6-6-6"></path>
        </svg>
      </a>
    <% } else { %>
      <span class="page-link next disabled">
        下一页
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m9 18 6-6-6-6"></path>
        </svg>
      </span>
    <% } %>
  </nav>
<% } %>
