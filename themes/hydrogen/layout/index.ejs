<div class="page-layout blog-layout">
  <div class="content-wrapper">
    <!-- 文章列表 -->
    <div class="post-list">
      <% page.posts.sort('date', -1).each(function(post) { %>
        <article class="post-card">
          <!-- 封面图 -->
          <% if (post.cover) { %>
            <div class="post-cover">
              <a href="<%- url_for(post.path) %>">
                <img src="<%- url_for(post.cover) %>" alt="<%= post.title %>" loading="lazy">
              </a>
            </div>
          <% } %>
          
          <div class="post-card-content">
            <!-- 标题 -->
            <h2 class="post-title">
              <a href="<%- url_for(post.path) %>"><%= post.title %></a>
            </h2>
            
            <!-- 元信息 -->
            <%- partial('_partial/post-meta', { post: post }) %>
            
            <!-- 摘要 -->
            <div class="post-excerpt">
              <% if (post.excerpt) { %>
                <%- post.excerpt %>
              <% } else { %>
                <%- strip_html(post.content).substring(0, 200) %>...
              <% } %>
            </div>
            
            <!-- 阅读更多 -->
            <a href="<%- url_for(post.path) %>" class="read-more">
              阅读全文
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 12h14"></path>
                <path d="m12 5 7 7-7 7"></path>
              </svg>
            </a>
          </div>
        </article>
      <% }) %>
    </div>

    <!-- 分页 -->
    <%- partial('_partial/pagination') %>
  </div>

  <!-- 侧边栏 -->
  <%- partial('_partial/sidebar') %>
</div>
